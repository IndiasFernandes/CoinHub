import ccxt
from datetime import datetime

def run_hyperliquid():
    exchange_id = 'hyperliquid'
    exchange_class = getattr(ccxt, exchange_id)
    exchange = exchange_class({
        'apiKey': '0xa9dA24397F0B02eaa39cDBCae312559CaEe17985',
        'secret': '0x00ddedb69741e811a8265d90e94f74e55f34f07f7f810f603b02508e778b91b4',
    })



    return exchange

def not_used():
    exchange_id = 'hyperliquid'
    exchange_class = getattr(ccxt, exchange_id)
    exchange = exchange_class({
        'apiKey': '0xa9dA24397F0B02eaa39cDBCae312559CaEe17985',
        'secret': '0x00ddedb69741e811a8265d90e94f74e55f34f07f7f810f603b02508e778b91b4',
    })

    date1 = datetime(2024, 4, 11)
    date1timestamp = int(date1.timestamp() * 1000)

    print(date1timestamp)

    fetch_markets = exchange.fetch_markets()


    exchange.symbols

    # RESULT: ['AAVE/USDC:USDC', 'ACE/USDC:USDC', 'ADA/USDC:USDC', 'AI/USDC:USDC', 'ALT/USDC:USDC', 'APE/USDC:USDC',
    # 'APT/USDC:USDC', 'AR/USDC:USDC', 'ARB/USDC:USDC', 'ARK/USDC:USDC', 'ATOM/USDC:USDC', 'AVAX/USDC:USDC',
    # 'BADGER/USDC:USDC', 'BANANA/USDC:USDC', 'BCH/USDC:USDC', 'BIGTIME/USDC:USDC', 'BLUR/USDC:USDC', 'BLZ/USDC:USDC',
    # 'BNB/USDC:USDC', 'BNT/USDC:USDC', 'BOME/USDC:USDC', 'BSV/USDC:USDC', 'BTC/USDC:USDC', 'CAKE/USDC:USDC',
    # 'CANTO/USDC:USDC', 'CFX/USDC:USDC', 'COMP/USDC:USDC', 'CRV/USDC:USDC', 'CYBER/USDC:USDC', 'DOGE/USDC:USDC',
    # 'DOT/USDC:USDC', 'DYDX/USDC:USDC', 'DYM/USDC:USDC', 'ENA/USDC:USDC', 'ENS/USDC:USDC', 'ETC/USDC:USDC',
    # 'ETH/USDC:USDC', 'ETHFI/USDC:USDC', 'FET/USDC:USDC', 'FIL/USDC:USDC', 'FRIEND/USDC:USDC', 'FTM/USDC:USDC',
    # 'FTT/USDC:USDC', 'FXS/USDC:USDC', 'GALA/USDC:USDC', 'GAS/USDC:USDC', 'GMT/USDC:USDC', 'GMX/USDC:USDC',
    # 'HPOS/USDC:USDC', 'ILV/USDC:USDC', 'IMX/USDC:USDC', 'INJ/USDC:USDC', 'JTO/USDC:USDC', 'JUP/USDC:USDC',
    # 'KAS/USDC:USDC', 'LDO/USDC:USDC', 'LINK/USDC:USDC', 'LOOM/USDC:USDC', 'LTC/USDC:USDC', 'MANTA/USDC:USDC',
    # 'MATIC/USDC:USDC', 'MAV/USDC:USDC', 'MAVIA/USDC:USDC', 'MEME/USDC:USDC', 'MINA/USDC:USDC', 'MKR/USDC:USDC',
    # 'MNT/USDC:USDC', 'MYRO/USDC:USDC', 'NEAR/USDC:USDC', 'NEO/USDC:USDC', 'NFTI/USDC:USDC', 'NTRN/USDC:USDC',
    # 'OGN/USDC:USDC', 'ONDO/USDC:USDC', 'OP/USDC:USDC', 'ORBS/USDC:USDC', 'ORDI/USDC:USDC', 'OX/USDC:USDC',
    # 'PANDORA/USDC:USDC', 'PENDLE/USDC:USDC', 'PEOPLE/USDC:USDC', 'PIXEL/USDC:USDC', 'POLYX/USDC:USDC',
    # 'PYTH/USDC:USDC', 'RDNT/USDC:USDC', 'REQ/USDC:USDC', 'RLB/USDC:USDC', 'RNDR/USDC:USDC', 'RSR/USDC:USDC',
    # 'RUNE/USDC:USDC', 'SEI/USDC:USDC', 'SHIA/USDC:USDC', 'SNX/USDC:USDC', 'SOL/USDC:USDC', 'STG/USDC:USDC',
    # 'STRAX/USDC:USDC', 'STRK/USDC:USDC', 'STX/USDC:USDC', 'SUI/USDC:USDC', 'SUPER/USDC:USDC', 'SUSHI/USDC:USDC',
    # 'TAO/USDC:USDC', 'TIA/USDC:USDC', 'TNSR/USDC:USDC', 'TON/USDC:USDC', 'TRB/USDC:USDC', 'TRX/USDC:USDC',
    # 'UMA/USDC:USDC', 'UNI/USDC:USDC', 'UNIBOT/USDC:USDC', 'USTC/USDC:USDC', 'W/USDC:USDC', 'WIF/USDC:USDC',
    # 'WLD/USDC:USDC', 'XAI/USDC:USDC', 'XRP/USDC:USDC', 'YGG/USDC:USDC', 'ZEN/USDC:USDC', 'ZETA/USDC:USDC',
    # 'ZRO/USDC:USDC', 'kBONK/USDC:USDC', 'kFLOKI/USDC:USDC', 'kLUNC/USDC:USDC', 'kPEPE/USDC:USDC', 'kSHIB/USDC:USDC']

    fetch_balance = exchange.fetch_balance(params={"user":"0xa9dA24397F0B02eaa39cDBCae312559CaEe17985"})

    #RESULT:
    # {'info': {'assetPositions': [], 'crossMaintenanceMarginUsed': '0.0', 'crossMarginSummary': {'accountValue':
    # '9.064503', 'totalMarginUsed': '0.0', 'totalNtlPos': '0.0', 'totalRawUsd': '9.064503'}, 'marginSummary': {
    # 'accountValue': '9.064503', 'totalMarginUsed': '0.0', 'totalNtlPos': '0.0', 'totalRawUsd': '9.064503'},
    # 'time': '1712853472986', 'withdrawable': '9.064503'}, 'USDC': {'total': 9.064503, 'used': 0.0, 'free': 9.064503},
    # 'timestamp': 1712853472986, 'datetime': '2024-04-11T16:37:52.986Z', 'free': {'USDC': 9.064503}, 'used': {'USDC':
    # 0.0}, 'total': {'USDC': 9.064503}}

    fetch_order_book = exchange.fetch_order_book(symbol="AAVE/USDC:USDC")

    # RESULT: {'symbol': 'AAVE/USDC:USDC', 'bids': [[116.07, 73.43], [116.05, 41.01], [116.04, 10.26], [116.03, 8.98],
    # [116.02, 167.71], [116.01, 4.68], [115.98, 70.63], [115.96, 81.29], [115.93, 12.0], [115.92, 17.25], [115.88,
    # 82.95], [115.87, 79.79], [115.84, 17.27], [115.78, 23.09], [115.76, 17.28], [115.75, 170.52], [115.71, 113.74],
    # [115.68, 129.37], [115.63, 170.52], [115.54, 23.09]], 'asks': [[116.11, 96.95], [116.12, 8.97], [116.13, 11.9],
    # [116.14, 231.28], [116.16, 212.05], [116.2, 170.52], [116.24, 116.05], [116.25, 112.47], [116.31, 12.0], [116.32,
    # 17.19], [116.38, 103.99], [116.4, 17.18], [116.43, 112.84], [116.48, 17.17], [116.54, 23.09], [116.56, 17.16],
    # [116.61, 96.09], [116.72, 107.15], [116.79, 23.09], [116.85, 25.0]], 'timestamp': 1712853841276, 'datetime':
    # '2024-04-11T16:44:01.276Z', 'nonce': None}

    fetch_ohlcv = exchange.fetch_ohlcv(symbol="AAVE/USDC:USDC", timeframe='5m', since=int(datetime(2024, 4, 11).timestamp() * 1000), limit=1000, params={})

    # RESULT: [[1712793600000, 128.41, 128.42, 127.92, 127.92, 57.11], [1712793900000, 128.26, 128.48, 128.26, 128.48,
    # 20.98], [1712794200000, 128.55, 129.57, 128.55, 129.4, 688.54], [1712794500000, 129.33, 130.11, 129.17, 129.69,
    # 149.76], [1712794800000, 129.69, 129.69, 128.63, 128.63, 40.55], [1712795100000, 128.62, 128.62, 127.79, 127.79,
    # 42.69], [1712795400000, 127.7, 128.27, 127.7, 128.25, 1.48], [1712795700000, 128.78, 128.88, 128.09, 128.53,
    # 25.03], [1712796000000, 128.82, 128.82, 128.56, 128.63, 0.67], [1712796300000, 128.52, 128.54, 128.09, 128.44,
    # 85.52], [1712796600000, 128.41, 128.44, 128.25, 128.43, 6.39], [1712796900000, 128.44, 129.34, 128.44, 128.97,
    # 53.66], [1712797200000, 129.19, 129.61, 129.16, 129.61, 17.25], [1712797500000, 129.66, 130.16, 129.65, 130.13,
    # 192.83], [1712797800000, 130.17, 132.42, 130.0, 131.78, 243.76], [1712798100000, 131.76, 132.0, 130.52, 130.58,
    # 136.53], [1712798400000, 130.58, 130.91, 130.04, 130.21, 211.93], [1712798700000, 130.09, 130.28, 129.09, 129.19,
    # 574.8], [1712799000000, 129.14, 129.78, 128.86, 129.33, 15.06], [1712799300000, 129.27, 129.94, 129.27, 129.37,
    # 37.56], [1712799600000, 129.46, 129.78, 129.12, 129.12, 54.12], [1712799900000, 129.11, 129.38, 128.85, 129.24,
    # 12.55], [1712800200000, 129.23, 130.12, 129.19, 129.88, 120.32], [1712800500000, 129.88, 129.88, 129.6, 129.65,
    # 27.96], [1712800800000, 129.6, 130.27, 129.6, 130.25, 6.84], [1712801100000, 130.03, 130.67, 130.03, 130.67,
    # 44.18], [1712801400000, 130.93, 130.93, 129.91, 129.93, 76.69], [1712801700000, 129.84, 129.91, 129.43, 129.43,
    # 36.54], [1712802000000, 129.41, 129.61, 129.21, 129.61, 11.76], [1712802300000, 129.45, 129.91, 129.45, 129.91,
    # 7.75], [1712802600000, 129.79, 129.79, 129.16, 129.39, 43.19], [1712802900000, 129.51, 130.15, 129.51, 130.05,
    # 26.85], [1712803200000, 130.07, 130.39, 129.74, 129.74, 55.17], [1712803500000, 129.76, 129.89, 129.65, 129.65,
    # 182.43], [1712803800000, 129.64, 129.68, 129.44, 129.66, 5.96], [1712804100000, 129.7, 130.06, 129.7, 129.93,
    # 42.71], [1712804400000, 129.94, 130.5, 129.94, 130.3, 242.83], [1712804700000, 129.92, 129.92, 129.53, 129.76,
    # 7.25], [1712805000000, 129.52, 129.61, 129.34, 129.61, 7.06], [1712805300000, 129.15, 129.15, 128.87, 128.87,
    # 26.21], [1712805600000, 128.92, 129.04, 128.87, 128.94, 131.41], [1712805900000, 129.03, 129.1, 128.54, 128.54,
    # 4.84], [1712806200000, 128.5, 128.52, 128.3, 128.3, 5.62], [1712806500000, 128.54, 129.09, 128.38, 128.38, 29.29],
    # [1712806800000, 128.43, 128.43, 128.15, 128.34, 46.04], [1712807100000, 128.29, 128.35, 127.93, 128.12, 130.6],
    # [1712807400000, 128.37, 128.37, 127.99, 127.99, 8.48], [1712807700000, 128.07, 128.07, 127.93, 127.97, 32.42],
    # [1712808000000, 128.0, 128.11, 127.39, 127.45, 55.83], [1712808300000, 127.3, 127.43, 127.24, 127.29, 38.04],
    # [1712808600000, 127.18, 127.18, 126.54, 126.54, 151.87], [1712808900000, 126.45, 126.51, 125.85, 125.94, 33.92],
    # [1712809200000, 125.83, 125.97, 125.35, 125.35, 82.81], [1712809500000, 125.42, 125.61, 125.19, 125.19, 17.04],
    # [1712809800000, 125.11, 125.36, 125.09, 125.09, 8.46], [1712810100000, 125.08, 125.08, 124.72, 124.72, 70.78],
    # [1712810400000, 124.88, 124.89, 124.7, 124.81, 5.72], [1712810700000, 124.69, 124.75, 124.46, 124.54, 69.78],
    # [1712811000000, 124.61, 125.29, 124.56, 125.23, 93.54], [1712811300000, 124.99, 125.01, 124.85, 124.96, 1.25],
    # [1712811600000, 124.87, 125.08, 124.87, 124.88, 97.36], [1712811900000, 124.83, 124.89, 124.58, 124.58, 105.54],
    # [1712812200000, 124.73, 125.0, 124.56, 125.0, 16.96], [1712812500000, 125.05, 125.05, 124.5, 124.5, 172.45],
    # [1712812800000, 124.24, 124.35, 124.21, 124.26, 93.01], [1712813100000, 124.37, 124.53, 124.25, 124.26, 29.06],
    # [1712813400000, 124.37, 124.58, 124.25, 124.58, 55.95], [1712813700000, 124.53, 124.64, 124.46, 124.46, 19.64],
    # [1712814000000, 124.45, 124.8, 124.4, 124.59, 42.12], [1712814300000, 124.59, 124.9, 124.44, 124.78, 47.4],
    # [1712814600000, 124.79, 124.94, 124.73, 124.94, 94.16], [1712814900000, 124.95, 125.06, 124.93, 124.98, 131.74],
    # [1712815200000, 124.87, 124.96, 124.83, 124.9, 247.71], [1712815500000, 124.87, 125.11, 124.87, 125.05, 2.35],
    # [1712815800000, 125.01, 125.2, 124.87, 124.88, 338.66], [1712816100000, 124.86, 124.86, 124.44, 124.45, 47.7],
    # [1712816400000, 124.45, 124.46, 124.38, 124.42, 20.74], [1712816700000, 124.4, 124.55, 124.37, 124.39, 21.75],
    # [1712817000000, 124.39, 124.77, 124.39, 124.77, 10.03], [1712817300000, 124.83, 124.83, 124.56, 124.62, 12.86],
    # [1712817600000, 124.77, 125.07, 124.77, 124.94, 107.13], [1712817900000, 124.92, 125.2, 124.92, 125.05, 4.57],
    # [1712818200000, 125.02, 125.23, 125.01, 125.14, 32.22], [1712818500000, 125.11, 125.11, 124.95, 125.07, 16.13],
    # [1712818800000, 125.06, 125.19, 125.0, 125.14, 242.47], [1712819100000, 125.12, 125.45, 125.08, 125.42, 101.28],
    # [1712819400000, 125.42, 125.42, 125.06, 125.08, 206.68], [1712819700000, 125.01, 125.39, 125.01, 125.27, 71.75],
    # [1712820000000, 125.33, 125.41, 125.14, 125.39, 44.08], [1712820300000, 125.42, 125.44, 125.05, 125.14, 9.34],
    # [1712820600000, 125.11, 125.24, 125.04, 125.19, 16.13], [1712820900000, 125.26, 125.26, 124.99, 125.06, 8.11],
    # [1712821200000, 125.04, 125.15, 124.99, 125.04, 20.37], [1712821500000, 125.01, 125.28, 125.01, 125.11, 34.84],
    # [1712821800000, 125.1, 125.12, 124.95, 124.95, 4.08], [1712822100000, 125.0, 125.05, 124.95, 125.03, 9.48],
    # [1712822400000, 125.08, 125.14, 124.93, 124.96, 188.11], [1712822700000, 124.87, 124.93, 124.71, 124.71, 21.7],
    # [1712823000000, 124.7, 124.9, 124.59, 124.86, 9.84], [1712823300000, 124.84, 125.08, 124.81, 124.96, 10.79],
    # [1712823600000, 124.99, 125.04, 124.71, 124.76, 18.36], [1712823900000, 124.84, 124.9, 124.67, 124.73, 12.36],
    # [1712824200000, 124.75, 124.87, 124.52, 124.87, 18.9], [1712824500000, 124.8, 125.03, 124.5, 124.75, 42.87],
    # [1712824800000, 124.81, 124.94, 124.71, 124.79, 80.88], [1712825100000, 124.73, 124.96, 124.55, 124.91, 42.67],
    # [1712825400000, 124.91, 124.95, 124.62, 124.69, 42.34], [1712825700000, 124.79, 124.79, 124.09, 124.16, 28.32],
    # [1712826000000, 124.12, 124.14, 123.18, 123.18, 13.66], [1712826300000, 123.25, 123.25, 122.95, 123.12, 13.28],
    # [1712826600000, 123.07, 123.2, 123.0, 123.07, 5.14], [1712826900000, 123.12, 123.12, 122.73, 122.73, 10.12],
    # [1712827200000, 122.73, 123.0, 122.58, 122.58, 14.17], [1712827500000, 122.61, 122.69, 122.46, 122.6, 23.55],
    # [1712827800000, 122.6, 122.61, 122.35, 122.58, 41.45], [1712828100000, 122.51, 122.51, 122.23, 122.24, 58.42],
    # [1712828400000, 122.28, 122.39, 122.19, 122.19, 4.37], [1712828700000, 122.2, 122.63, 122.2, 122.41, 9.84],
    # [1712829000000, 122.42, 122.42, 122.0, 122.0, 38.39], [1712829300000, 122.0, 122.23, 121.5, 121.67, 796.0],
    # [1712829600000, 121.79, 121.94, 121.62, 121.89, 20.24], [1712829900000, 121.92, 122.12, 121.81, 122.09, 137.71],
    # [1712830200000, 122.1, 122.1, 121.46, 121.48, 22.43], [1712830500000, 121.51, 121.84, 121.51, 121.61, 21.1],
    # [1712830800000, 121.5, 121.59, 121.14, 121.14, 18.1], [1712831100000, 121.21, 121.27, 121.02, 121.04, 17.32],
    # [1712831400000, 121.06, 121.38, 121.04, 121.33, 73.96], [1712831700000, 121.37, 121.37, 120.69, 120.83, 261.09],
    # [1712832000000, 120.87, 120.88, 120.57, 120.63, 17.28], [1712832300000, 120.55, 120.87, 120.47, 120.52, 11.6],
    # [1712832600000, 120.5, 120.58, 120.39, 120.4, 170.61], [1712832900000, 120.55, 120.55, 120.23, 120.23, 66.6],
    # [1712833200000, 120.19, 120.36, 120.11, 120.33, 173.81], [1712833500000, 120.36, 120.43, 120.12, 120.12, 29.76],
    # [1712833800000, 120.11, 120.41, 120.11, 120.16, 17.46], [1712834100000, 120.08, 120.08, 119.94, 119.96, 27.65],
    # [1712834400000, 120.06, 120.25, 120.06, 120.22, 9.14], [1712834700000, 120.02, 120.09, 119.88, 119.88, 11.09],
    # [1712835000000, 119.93, 120.1, 119.76, 119.88, 23.52], [1712835300000, 119.92, 120.0, 119.73, 119.79, 58.07],
    # [1712835600000, 119.78, 120.1, 119.56, 120.09, 10.77], [1712835900000, 120.05, 120.27, 119.87, 119.87, 78.64],
    # [1712836200000, 120.02, 120.02, 119.41, 119.41, 5.8], [1712836500000, 119.5, 119.5, 119.0, 119.35, 17.9],
    # [1712836800000, 119.42, 119.75, 119.14, 119.73, 709.5], [1712837100000, 119.79, 120.06, 119.67, 120.0, 114.71],
    # [1712837400000, 120.01, 120.3, 119.81, 119.82, 34.17], [1712837700000, 120.02, 120.21, 119.98, 120.01, 57.69],
    # [1712838000000, 119.95, 120.06, 119.71, 119.91, 90.64], [1712838300000, 119.88, 119.88, 119.25, 119.3, 43.09],
    # [1712838600000, 119.25, 120.99, 119.25, 120.88, 298.8], [1712838900000, 120.86, 121.12, 120.48, 120.94, 261.48],
    # [1712839200000, 120.91, 121.11, 120.39, 120.4, 78.02], [1712839500000, 120.36, 120.46, 119.95, 119.98, 58.04],
    # [1712839800000, 119.95, 119.95, 119.53, 119.67, 35.97], [1712840100000, 119.7, 120.4, 119.7, 120.03, 14.46],
    # [1712840400000, 119.79, 120.17, 119.79, 120.11, 20.7], [1712840700000, 120.18, 120.21, 120.0, 120.04, 152.16],
    # [1712841000000, 120.08, 120.37, 120.08, 120.16, 16.88], [1712841300000, 120.14, 120.38, 119.57, 119.57, 13.55],
    # [1712841600000, 119.54, 119.54, 118.88, 118.9, 135.16], [1712841900000, 118.9, 119.28, 118.74, 119.28, 223.02],
    # [1712842200000, 119.31, 119.82, 119.19, 119.82, 205.5], [1712842500000, 119.89, 120.11, 118.82, 118.85, 37.93],
    # [1712842800000, 118.77, 118.77, 117.93, 118.1, 144.34], [1712843100000, 118.13, 118.45, 117.7, 118.12, 28.18],
    # [1712843400000, 118.19, 118.32, 117.72, 117.9, 257.59], [1712843700000, 118.19, 118.84, 118.19, 118.63, 124.96],
    # [1712844000000, 118.38, 118.5, 118.01, 118.35, 76.61], [1712844300000, 118.22, 118.22, 117.81, 118.04, 22.34],
    # [1712844600000, 118.1, 118.1, 117.46, 117.66, 157.17], [1712844900000, 117.52, 117.58, 117.11, 117.31, 69.53],
    # [1712845200000, 117.21, 117.55, 117.08, 117.31, 183.96], [1712845500000, 117.31, 117.31, 116.85, 116.86, 84.41],
    # [1712845800000, 116.77, 117.57, 116.61, 117.12, 168.74], [1712846100000, 117.36, 117.36, 116.92, 117.26, 50.73],
    # [1712846400000, 117.22, 117.3, 117.0, 117.07, 6.84], [1712846700000, 117.2, 117.56, 117.1, 117.1, 28.02],
    # [1712847000000, 117.14, 117.47, 117.12, 117.22, 39.13], [1712847300000, 117.21, 117.21, 116.72, 116.74, 194.44],
    # [1712847600000, 116.73, 117.39, 116.66, 117.22, 632.77], [1712847900000, 117.31, 117.33, 116.83, 117.04, 377.97],
    # [1712848200000, 117.1, 117.3, 116.84, 117.01, 32.11], [1712848500000, 116.96, 117.24, 116.96, 117.17, 28.64],
    # [1712848800000, 117.2, 117.51, 117.09, 117.12, 302.81], [1712849100000, 117.11, 117.17, 116.7, 116.75, 257.44],
    # [1712849400000, 116.85, 116.85, 116.51, 116.56, 14.64], [1712849700000, 116.57, 117.09, 116.57, 117.02, 10.65],
    # [1712850000000, 117.07, 117.48, 117.06, 117.15, 555.2], [1712850300000, 117.06, 117.17, 116.62, 116.7, 153.95],
    # [1712850600000, 116.69, 116.72, 116.52, 116.68, 33.5], [1712850900000, 116.79, 117.08, 116.76, 117.0, 12.21],
    # [1712851200000, 117.03, 117.43, 116.72, 117.36, 257.53], [1712851500000, 117.24, 117.36, 117.13, 117.33, 241.08],
    # [1712851800000, 117.27, 117.27, 116.97, 116.97, 43.72], [1712852100000, 116.9, 116.93, 116.72, 116.85, 8.57],
    # [1712852400000, 116.77, 116.77, 116.31, 116.31, 18.66], [1712852700000, 116.27, 116.31, 116.05, 116.15, 14.06],
    # [1712853000000, 116.1, 116.37, 116.01, 116.18, 17.32], [1712853300000, 116.05, 116.08, 115.45, 115.48, 56.15],
    # [1712853600000, 115.54, 116.1, 115.54, 115.91, 161.75], [1712853900000, 115.82, 116.33, 115.7, 116.33, 43.79],
    # [1712854200000, 116.41, 116.44, 116.41, 116.44, 1.6]]




    btc_price = exchange.fetch_ticker('BTC/USD')
    print(btc_price)

    order = exchange.create_limit_buy_order('ETH/USD', 1, 2500)  # Buy 1 ETH at $2500
    print(order)